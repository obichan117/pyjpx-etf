{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"pyjpx-etf","text":"<p>A clean, beginner-friendly Python library for fetching JPX ETF portfolio composition (PCF) data and ranking ETFs by returns.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Simple API \u2014 yfinance-style <code>ETF(\"1306\")</code> interface</li> <li>ETF ranking \u2014 rank all TSE ETFs by returns (1m, 1y, ytd, etc.)</li> <li>Japanese names by default \u2014 powered by the JPX master list</li> <li>No authentication \u2014 uses free, public endpoints</li> <li>Lightweight \u2014 just <code>requests</code>, <code>pandas</code>, <code>xlrd</code>, and <code>lxml</code></li> <li>Auto provider detection \u2014 tries ICE Data Services, then Solactive</li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code>import pyjpx_etf as etf\n\ne = etf.ETF(\"1306\")\nprint(e.info.name)  # \"TOPIX\u9023\u52d5\u578b\u4e0a\u5834\u6295\u8cc7\u4fe1\u8a17\"\nprint(e.fee)        # 0.0505\nprint(e.top())\n</code></pre> <pre><code>   code          name    weight\n0  7203      \u30c8\u30e8\u30bf\u81ea\u52d5\u8eca     3.8\n1  8306  \u4e09\u83f1UFJ\u30d5\u30a3\u30ca\u30f3\u30b7\u30e3\u30eb\u30fb\u30b0\u30eb\u30fc\u30d7  2.5\n2  6758    \u30bd\u30cb\u30fc\u30b0\u30eb\u30fc\u30d7     2.3\n...\n</code></pre>"},{"location":"#etf-ranking","title":"ETF Ranking","text":"<pre><code>etf.ranking()              # top 10 by 1-month return\netf.ranking(\"1y\", n=20)    # top 20 by 1-year return\netf.ranking(\"ytd\", n=-5)   # worst 5 by ytd return\n</code></pre>"},{"location":"#cli","title":"CLI","text":"<pre><code>$ etf 1306\n$ etf rank              # top 10 by 1-month return\n$ etf rank -5 1y --en   # worst 5 by 1-year, English\n$ etf --help            # show all commands\n</code></pre>"},{"location":"#installation","title":"Installation","text":"<pre><code>pip install pyjpx-etf\n</code></pre>"},{"location":"getting-started/","title":"Getting Started","text":""},{"location":"getting-started/#installation","title":"Installation","text":"<pre><code>pip install pyjpx-etf\n</code></pre>"},{"location":"getting-started/#basic-usage","title":"Basic Usage","text":"<pre><code>import pyjpx_etf as etf\n\ne = etf.ETF(\"1306\")\n\n# ETF metadata (Japanese names by default)\nprint(e.info.name)              # \"TOPIX\u9023\u52d5\u578b\u4e0a\u5834\u6295\u8cc7\u4fe1\u8a17\"\nprint(e.info.cash_component)    # 496973797639.0\nprint(e.info.shares_outstanding)  # 8133974978\nprint(e.info.date)              # datetime.date(2026, 2, 27)\n\n# Holdings\nfor h in e.holdings[:3]:\n    print(f\"{h.name}: {h.weight:.2%}\")\n# \u30c8\u30e8\u30bf\u81ea\u52d5\u8eca: 3.80%\n# \u4e09\u83f1UFJ\u30d5\u30a3\u30ca\u30f3\u30b7\u30e3\u30eb\u30fb\u30b0\u30eb\u30fc\u30d7: 2.50%\n# \u30bd\u30cb\u30fc\u30b0\u30eb\u30fc\u30d7: 2.30%\n\n# Full DataFrame\ndf = e.to_dataframe()\n</code></pre>"},{"location":"getting-started/#language","title":"Language","text":"<p>Names default to Japanese (<code>config.lang = \"ja\"</code>). Switch to English:</p> <pre><code>etf.config.lang = \"en\"\ne = etf.ETF(\"1306\")\nprint(e.info.name)  # \"TOPIX ETF\"\n</code></pre> <p>The CLI uses <code>--en</code> for English:</p> <pre><code>$ etf 1306 --en\n</code></pre>"},{"location":"getting-started/#configuration","title":"Configuration","text":"<pre><code>import pyjpx_etf as etf\n\netf.config.timeout = 60        # HTTP timeout in seconds\netf.config.request_delay = 0.5  # Delay between provider retries\netf.config.lang = \"en\"          # \"ja\" (default) or \"en\"\n</code></pre>"},{"location":"getting-started/#etf-ranking","title":"ETF Ranking","text":"<p>Rank all TSE ETFs by return over various periods:</p> <pre><code>import pyjpx_etf as etf\n\n# Top 10 by 1-month return (default)\ndf = etf.ranking()\n\n# Top 20 by 1-year return\ndf = etf.ranking(\"1y\", n=20)\n\n# Worst 5 by ytd return\ndf = etf.ranking(\"ytd\", n=-5)\n\n# All ETFs sorted by return\ndf = etf.ranking(\"1m\", n=0)\n</code></pre> <p>Returns a DataFrame with columns: <code>code</code>, <code>name</code>, <code>return</code>, <code>fee</code>, <code>dividend_yield</code>.</p> <p>Available periods: <code>1m</code>, <code>3m</code>, <code>6m</code>, <code>1y</code>, <code>3y</code>, <code>5y</code>, <code>10y</code>, <code>ytd</code>.</p>"},{"location":"getting-started/#cli","title":"CLI","text":"<pre><code>$ etf rank                # top 10 by 1-month return\n$ etf rank 20 1y          # top 20 by 1-year return\n$ etf rank -5 ytd --en    # worst 5 by ytd, English names\n</code></pre>"},{"location":"getting-started/#data-sources","title":"Data Sources","text":"<p>pyjpx-etf fetches data from multiple providers:</p> Provider Data ICE Data Services PCF (portfolio composition) for most TSE ETFs Solactive AG PCF for Global X Japan ETFs JPX Trust fees (\u4fe1\u8a17\u5831\u916c), Japanese security names Rakuten Securities Period returns, dividend yields, supplementary fees <p>PCF data is updated daily on business days, available 7:50\u201323:55 JST. Ranking data (Rakuten) is available anytime.</p>"},{"location":"api/config/","title":"Config","text":""},{"location":"api/config/#pyjpx_etf.config","title":"<code>pyjpx_etf.config</code>","text":"<p>Configuration for pyjpx-etf.</p>"},{"location":"api/config/#pyjpx_etf.config.Config","title":"<code>Config</code>  <code>dataclass</code>","text":"<p>Mutable configuration for HTTP requests.</p>"},{"location":"api/config/#pyjpx_etf.config.Config","title":"<code>pyjpx_etf.config.Config</code>  <code>dataclass</code>","text":"<p>Mutable configuration for HTTP requests.</p>"},{"location":"api/etf/","title":"ETF","text":""},{"location":"api/etf/#pyjpx_etf.ETF","title":"<code>pyjpx_etf.ETF</code>","text":"<p>Fetch and access JPX ETF portfolio composition data.</p> <p>Data is lazy-loaded from PCF providers on first property access.</p> <p>Usage::</p> <pre><code>import pyjpx_etf as etf\n\ne = etf.ETF(\"1306\")\ne.info.name          # \"TOPIX\u9023\u52d5\u578b\u4e0a\u5834\u6295\u8cc7\u4fe1\u8a17\"\ne.holdings[:5]       # first 5 holdings\ne.to_dataframe()     # pandas DataFrame\n</code></pre>"},{"location":"api/etf/#pyjpx_etf.ETF.fee","title":"<code>fee</code>  <code>property</code>","text":"<p>Trust fee (\u4fe1\u8a17\u5831\u916c) as a percentage value, e.g. <code>0.06</code> for 0.06%.</p> <p>Fetched independently from the JPX ETF list page (does not trigger PCF load). Returns <code>None</code> if the fee is unavailable.</p>"},{"location":"api/etf/#pyjpx_etf.ETF.nav","title":"<code>nav</code>  <code>property</code>","text":"<p>Total fund net asset value in yen.</p> <p>Computed as cash_component + sum(shares * price) for all holdings. Triggers PCF data load on first access.</p>"},{"location":"api/etf/#pyjpx_etf.ETF.to_dataframe","title":"<code>to_dataframe()</code>","text":"<p>Return holdings as a pandas DataFrame.</p>"},{"location":"api/etf/#pyjpx_etf.ETF.top","title":"<code>top(n=10)</code>","text":"<p>Return top N holdings by weight with code, name, and weight (%).</p>"},{"location":"api/exceptions/","title":"Exceptions","text":""},{"location":"api/exceptions/#pyjpx_etf.PyJPXETFError","title":"<code>pyjpx_etf.PyJPXETFError</code>","text":"<p>               Bases: <code>Exception</code></p> <p>Base exception for all pyjpx-etf errors.</p>"},{"location":"api/exceptions/#pyjpx_etf.ETFNotFoundError","title":"<code>pyjpx_etf.ETFNotFoundError</code>","text":"<p>               Bases: <code>PyJPXETFError</code></p> <p>Raised when the ETF code is not found on any provider.</p>"},{"location":"api/exceptions/#pyjpx_etf.FetchError","title":"<code>pyjpx_etf.FetchError</code>","text":"<p>               Bases: <code>PyJPXETFError</code></p> <p>Raised on network or HTTP errors.</p>"},{"location":"api/exceptions/#pyjpx_etf.ParseError","title":"<code>pyjpx_etf.ParseError</code>","text":"<p>               Bases: <code>PyJPXETFError</code></p> <p>Raised when CSV content cannot be parsed.</p>"},{"location":"api/ranking/","title":"ranking","text":""},{"location":"api/ranking/#pyjpx_etf.ranking","title":"<code>pyjpx_etf.ranking</code>","text":"<p>ETF ranking by period returns.</p>"},{"location":"api/ranking/#pyjpx_etf.ranking.ranking","title":"<code>ranking(period='1m', n=10)</code>","text":"<p>Return a DataFrame of TSE ETFs ranked by return for the given period.</p>"},{"location":"api/ranking/#pyjpx_etf.ranking.ranking--parameters","title":"Parameters","text":"<p>period : str     One of <code>1m</code>, <code>3m</code>, <code>6m</code>, <code>1y</code>, <code>3y</code>, <code>5y</code>, <code>10y</code>, <code>ytd</code>. n : int     Positive for top N (descending), negative for worst N (ascending),     0 for all (sorted descending).</p>"},{"location":"api/ranking/#pyjpx_etf.ranking.ranking--returns","title":"Returns","text":"<p>pd.DataFrame     Columns: <code>code</code>, <code>name</code>, <code>return</code>, <code>fee</code>, <code>dividend_yield</code>.</p>"},{"location":"guide/etf/","title":"ETF Data","text":""},{"location":"guide/etf/#the-etf-class","title":"The ETF Class","text":"<p>The <code>ETF</code> class is the main entry point. It lazily fetches data on first access.</p> <pre><code>import pyjpx_etf as etf\n\ne = etf.ETF(\"1306\")\n</code></pre>"},{"location":"guide/etf/#etf-info","title":"ETF Info","text":"<p>Access metadata via the <code>info</code> property. Names are Japanese by default:</p> <pre><code>e.info.code               # \"1306\"\ne.info.name               # \"TOPIX\u9023\u52d5\u578b\u4e0a\u5834\u6295\u8cc7\u4fe1\u8a17\"\ne.info.cash_component     # Fund cash component\ne.info.shares_outstanding # Shares outstanding\ne.info.date               # Fund date as datetime.date\n\n# Convert to dict\ndict_info = e.info.to_dict()\n</code></pre>"},{"location":"guide/etf/#holdings","title":"Holdings","text":"<p>Access constituent holdings:</p> <pre><code>for h in e.holdings[:3]:\n    print(f\"{h.code} {h.name}: {h.weight:.2%}\")\n# 7203 \u30c8\u30e8\u30bf\u81ea\u52d5\u8eca: 3.80%\n# 8306 \u4e09\u83f1UFJ\u30d5\u30a3\u30ca\u30f3\u30b7\u30e3\u30eb\u30fb\u30b0\u30eb\u30fc\u30d7: 2.50%\n# 6758 \u30bd\u30cb\u30fc\u30b0\u30eb\u30fc\u30d7: 2.30%\n</code></pre> <p>Each <code>Holding</code> has: <code>code</code>, <code>name</code>, <code>isin</code>, <code>exchange</code>, <code>currency</code>, <code>shares</code>, <code>price</code>, <code>weight</code>.</p>"},{"location":"guide/etf/#nav","title":"NAV","text":"<p>Total fund net asset value (cash + holdings market value) in yen:</p> <pre><code>e.nav  # 515997003139 (in yen)\n</code></pre>"},{"location":"guide/etf/#fee","title":"Fee (\u4fe1\u8a17\u5831\u916c)","text":"<p>Trust fee (\u4fe1\u8a17\u5831\u916c), sourced from JPX with Rakuten Securities as fallback. Independent of PCF data:</p> <pre><code>e.fee  # 0.06 (means 0.06%)\n</code></pre> <p>Returns <code>None</code> if the fee is unavailable from both sources.</p>"},{"location":"guide/etf/#dataframe-output","title":"DataFrame Output","text":"<pre><code>df = e.to_dataframe()\n# Columns: code, name, isin, exchange, currency, shares, price, weight\n</code></pre>"},{"location":"guide/etf/#language","title":"Language","text":"<p>Set <code>config.lang</code> before creating an <code>ETF</code> instance:</p> <pre><code>import pyjpx_etf as etf\n\n# Japanese (default)\ne = etf.ETF(\"1306\")\ne.info.name  # \"TOPIX\u9023\u52d5\u578b\u4e0a\u5834\u6295\u8cc7\u4fe1\u8a17\"\n\n# English\netf.config.lang = \"en\"\ne = etf.ETF(\"1306\")\ne.info.name  # \"TOPIX ETF\"\n</code></pre>"},{"location":"guide/etf/#error-handling","title":"Error Handling","text":"<pre><code>from pyjpx_etf import ETFNotFoundError, FetchError, ParseError\n\ntry:\n    e = etf.ETF(\"9999\")\n    _ = e.info\nexcept ETFNotFoundError:\n    print(\"ETF not found\")\nexcept FetchError:\n    print(\"Network error\")\n</code></pre>"},{"location":"guide/ranking/","title":"ETF Ranking","text":""},{"location":"guide/ranking/#the-ranking-function","title":"The ranking() Function","text":"<p>Rank all TSE-listed ETFs by return over various periods.</p> <pre><code>import pyjpx_etf as etf\n\n# Top 10 by 1-month return (default)\ndf = etf.ranking()\n</code></pre> <pre><code>   code                     name  return   fee  dividend_yield\n0  1623  NEXT FUNDS \u9244\u92fc\u30fb\u975e\u9244...   49.10  0.32            1.39\n1  2646  \u30b0\u30ed\u30fc\u30d0\u30ebX \u30e1\u30bf\u30eb\u30d3\u30b8\u30cd\u30b9...   47.62  0.59            1.13\n2  213A  \u4e0a\u5834\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30d5\u30a1\u30f3\u30c9...   42.46  0.15            0.77\n...\n</code></pre>"},{"location":"guide/ranking/#periods","title":"Periods","text":"Period Description <code>1m</code> 1 month (default) <code>3m</code> 3 months <code>6m</code> 6 months <code>1y</code> 1 year <code>3y</code> 3 years <code>5y</code> 5 years <code>10y</code> 10 years <code>ytd</code> Year to date <pre><code>etf.ranking(\"1y\")       # top 10 by 1-year return\netf.ranking(\"ytd\")      # top 10 by ytd return\n</code></pre>"},{"location":"guide/ranking/#controlling-results","title":"Controlling Results","text":"<pre><code>etf.ranking(\"1m\", n=20)    # top 20\netf.ranking(\"1m\", n=-10)   # worst 10\netf.ranking(\"1m\", n=0)     # all ETFs, sorted descending\n</code></pre> <ul> <li>Positive <code>n</code>: top N (sorted descending by return)</li> <li>Negative <code>n</code>: worst N (sorted ascending by return)</li> <li><code>n=0</code>: all ETFs sorted descending</li> </ul>"},{"location":"guide/ranking/#language","title":"Language","text":"<p>Respects <code>config.lang</code>:</p> <pre><code>etf.config.lang = \"en\"\netf.ranking()  # English names\n</code></pre>"},{"location":"guide/ranking/#cli","title":"CLI","text":"<pre><code>$ etf rank                # top 10, 1m\n$ etf rank 20             # top 20, 1m\n$ etf rank -10            # worst 10, 1m\n$ etf rank 20 1y          # top 20, 1y\n$ etf rank -5 ytd --en    # worst 5, ytd, English\n</code></pre>"},{"location":"guide/ranking/#data-source","title":"Data Source","text":"<p>Ranking data comes from Rakuten Securities, updated daily. Fees are merged from the JPX ETF list page and Rakuten. ETFs with no return data for the requested period are excluded.</p>"}]}